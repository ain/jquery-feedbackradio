/*! jQuery FeedbackRadio - v0.1.0 - 2013-10-29
* https://github.com/ain/jquery-feedbackradio
* Copyright (c) 2013 Ain Tohvri; Licensed MIT */
!function(a){function b(b,d){this.element=b,this.options=a.extend({},f,d),this._defaults=f,this._name=c,this._init()}var c="feedbackradio",d={BLOCK:"block",INLINE:"inline"},e={ASC:"asc",DESC:"desc"},f={};f.considerDefault=!0,f.inputSelector='input[type="radio"]',f.display=d.INLINE,f.step=2,f.order="ASC",b.prototype._init=function(){var b=this,c=this.options.order===e.DESC,d=this._flatten(c);c&&d.reverse(),d.each(function(){var c=a('<a href="#" class="feedbackradio-star '+b._getStarDisplayClass()+'">'+b._getStarLabel(d.index(this))+"</a>").bind("click",b,b._handleStarClick);a(this).hide().after(c)});var f=d.index(d.filter(":checked"));this.options.considerDefault&&-1!==f&&this.getStars().eq(f).trigger("click")},b.prototype._getStarDisplayClass=function(){return"feedbackradio-star--display-"+this.options.display},b.prototype._getStarLabel=function(a){var b="â˜…";return this.options.display===d.BLOCK?Array(this.options.step*a+2).join(b):b},b.prototype._handleStarClick=function(b){var c=b.data,e=c.getStars(),f=e.index(this);if(e.removeClass("feedbackradio-star--active"),c.options.display===d.BLOCK)a(this).addClass("feedbackradio-star--active");else for(var g=0;f>=g;)e.eq(g).addClass("feedbackradio-star--active"),g++;return a(this).prev().trigger("click"),b.stopPropagation(),!1},b.prototype.getStars=function(){return a(".feedbackradio-star")},b.prototype._flatten=function(b){var c=a(this.element).find(this.options.inputSelector);return b&&c.reverse(),a(this.element).empty().append(c),c},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})},a.fn.reverse=[].reverse}(jQuery,window,document);